<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT Bot</title>
    <link rel="stylesheet" href="opo.css">
    <style>
        /* Add some styling for the Wikipedia image */
        .wiki-image {
            max-width: 200px;  /* Ensure the image doesn't exceed a specific width */
            max-height: 150px; /* Restrict the image height to maintain layout */
            width: auto;       /* Maintain aspect ratio */
            height: auto;      /* Maintain aspect ratio */
            display: block;    /* Display as block element to ensure it's on a new line */
            margin: 10px 0;    /* Add some margin for better spacing */
            border-bottom-right-radius: 7px;
            border-bottom-left-radius: 7px;
        }
        .loading-message {
    display: flex;          /* Align items in a row */
    justify-content: flex-start;  /* Align content to the left */
    align-items: center;    /* Vertically center the GIFs */
    
}

.loading-gif {
    margin-right: 5px;      /* Reduce the gap between the two GIFs */
    width: 50px;            /* Set size for the first GIF */
    height: auto;
}

.loading-gif-small {
    margin-right: 0;        /* No gap after the second GIF */
    width: 20px;            /* Smaller size for the second GIF */
    height: auto;
    margin-top: 5px;
    margin-left: -22px;
}


      

    </style>
</head>
<body>
    <div class="topographic-texture">
        <div class="en">
            <i class="fa-solid fa-chevron-left">
                <div class="black"></div>
            </i>

            <div class="lr">
                <h1>Quest Bot</h1>
                <div class="frt">
                    <div class="green"></div>
                    Online
                </div>
            </div>
            <video src="juy.mp4" autoplay muted loop></video>
        </div>
    

    <div class="container">
        <div class="chat-box" id="chat-box">
            <div class="top-message">
                <img src="YHKLTK.png" alt="">
                <p>Hello! This Bot provides you with information from the internet. Write (only one word) of the topic to get information. If you want a calculator, just type 'I want a calculator.</p>
            
        </div><br>
        <div class="uy" style="display: flex;
        flex-direction: row;
        align-items: flex-end;">
            <div class="logo" >
                
            </div>
            <div class="bot-message" style="    padding: 1px;
            margin-bottom: 0px;
            /* margin-top: -54px; */
            font-size: 11px;
            /* margin-left: 71px;">
                <p style="margin-left: 10px;">Please type a topic you'd like to know more about!</p>
            </div>
        </div>
        <div id="calculator" class="calculator" style="display:none;">
            <input type="text" id="calc-display" class="calc-display" disabled>
            <div class="calc-buttons">
                <button onclick="insert(7)">7</button>
                <button onclick="insert(8)">8</button>
                <button onclick="insert(9)">9</button>
                <button onclick="clearDisplay()">C</button>
                <button onclick="insert(4)">4</button>
                <button onclick="insert(5)">5</button>
                <button onclick="insert(6)">6</button>
                <button onclick="operate('/')">/</button>
                <button onclick="insert(1)">1</button>
                <button onclick="insert(2)">2</button>
                <button onclick="insert(3)">3</button>
                <button onclick="operate('*')">*</button>
                <button onclick="insert(0)">0</button>
                <button onclick="operate('-')">-</button>
                <button onclick="operate('+')">+</button>
                <button onclick="calculate()">=</button>
            </div>
        </div>
        

       </div>
       </div>
       <div class="robot-container">
        <img src="file:///C:/Users/JKV%20KOLKATA%20NEWS/Downloads/output-onlinegiftools.gif" alt="Robot" class="robot-gif">
    </div>
    
        <div class="chat-container">
            <input type="text" id="user-input" placeholder="Start a new chat..." />
            <button onclick="sendMessage()" id="send-btn">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="currentColor"/>
                </svg>
            </button>
        </div>
    </div>
</div>
<!-- <script>
    

    function displayUserMessage(message) {
    var chatBox = document.getElementById("chat-box");
    var userMessageDiv = document.createElement("div");
    userMessageDiv.className = "user-message";
    userMessageDiv.textContent = message;
    chatBox.appendChild(userMessageDiv);
    document.getElementById("user-input").value = "";
}

function displayLoadingMessage() {
    var chatBox = document.getElementById("chat-box");
    var loadingMessageDiv = document.createElement("div");
    loadingMessageDiv.className = "loading-message";
    loadingMessageDiv.textContent = "Loading...";
    loadingMessageDiv.id = "loading-message";
    chatBox.appendChild(loadingMessageDiv);
}

function removeLoadingMessage() {
    var loadingMessage = document.getElementById("loading-message");
    if (loadingMessage) {
        loadingMessage.remove();
    }
}

function normalizeInput(input) {
    let normalized = input.trim().toLowerCase();
    // Remove common question phrases
    normalized = normalized.replace(/^(what is|tell me something about|about|explain|give me information on|what's)\s+/i, '');
    return normalized.replace(/[?!.]*$/, '');
}

async function getBotResponse(query) {
    let normalizedQuery = normalizeInput(query);

    try {
        // Search for the query on Wikipedia
        let searchResponse = await fetch(`https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(normalizedQuery)}&format=json&origin=*`);
        let searchData = await searchResponse.json();

        if (searchData.query.search.length > 0) {
            let title = searchData.query.search[0].title;

            // Get summary of the article
            let summaryResponse = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(title)}`);
            let summaryData = await summaryResponse.json();

            let imageUrl = summaryData.thumbnail ? summaryData.thumbnail.source : null;
            displayBotMessage(title, summaryData.extract, imageUrl);
        } else {
            displayFallbackMessage();
        }
    } catch (error) {
        console.error('Error fetching from Wikipedia:', error);
        displayBotMessage("Error", "Oops! Something went wrong while fetching from Wikipedia.");
    }
}

function displayFallbackMessage() {
    const fallbackMessages = [
        "It looks like there's no information available on this topic. Why not try another word?",
        "I'm sorry, I couldn't find anything. How about searching for something else?",
        "Hmmm, it seems this topic is tricky. Maybe try exploring a different topic?",
        "No info found on that. Did you know the Eiffel Tower can be 15 cm taller in the summer due to heat expansion?"
    ];

    let randomIndex = Math.floor(Math.random() * fallbackMessages.length);
    displayBotMessage("Fallback", fallbackMessages[randomIndex]);
}

function displayBotMessage(title, message, imageUrl = null) {
    var chatBox = document.getElementById("chat-box");
    removeLoadingMessage();

    var uyContainer = document.createElement("div");
    uyContainer.className = "uy";

    var logoDiv = document.createElement("div");
    logoDiv.className = "logo";
    var botImage = document.createElement("img");
    botImage.src = "";  // Add path to your robot image if needed
    botImage.className = "bot-logo";
    logoDiv.appendChild(botImage);

    var botMessageDiv = document.createElement("div");
    botMessageDiv.className = "bot-message";

    var topicHeading = document.createElement("h2");
    topicHeading.textContent = title;
    botMessageDiv.appendChild(topicHeading);

    var botText = document.createElement("p");
    botText.textContent = message;
    botMessageDiv.appendChild(botText);

    if (imageUrl) {
        var botImg = document.createElement("img");
        botImg.src = imageUrl;
        botImg.className = "wiki-image";
        botMessageDiv.appendChild(botImg);
    }

    uyContainer.appendChild(logoDiv);
    uyContainer.appendChild(botMessageDiv);
    chatBox.appendChild(uyContainer);
    chatBox.scrollTop = chatBox.scrollHeight;
}

document.getElementById("user-input").addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
        event.preventDefault();
        sendMessage();
    }
});

async function sendMessage() {
    var userInput = document.getElementById("user-input").value;
    if (userInput.trim() === "") return;
    displayUserMessage(userInput);
    displayLoadingMessage();
    await getBotResponse(userInput);
}



// Predefined responses
const predefinedResponses = {
    "hi": "Hello! How can I help you today?",
    "hello": "Hi there! How can I assist you?",
    "hey": "Hey! What can I do for you?",
    "hi there": "Hi! How's your day going?",
    "good morning": "Good morning! How can I assist you today?",
    "good afternoon": "Good afternoon! What can I help you with?",
    "good evening": "Good evening! Feel free to ask me anything.",
    "good night": "Good night! Let me know if you need anything before heading to bed.",
    
    "how are you": "I'm just a bot, but I'm here to help you!",
    "how are you doing": "I'm doing great! How about you?",
    "how’s it going": "I’m here to assist you. How about you?",
    "what’s up": "Not much! Just ready to help. What can I do for you?",
    "tell me something": "Did you know that honey never spoils? Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still perfectly edible.",
    "ok": "Got it! Let me know if you need anything else.",
    "yes": "Great! If you need anything, I'm here.",
    "no": "That's fine! Feel free to ask me anything.",
    "i’ll do that now": "Awesome! Let me know if you need help.",
    
    "thank you": "You're welcome! I'm happy to help.",
    "thanks": "Anytime! I'm here to assist.",
    "goodbye": "Goodbye! Have a wonderful day.",
    "bye": "Bye! Take care!",
    "see you later": "See you later! I'm always here when you need help.",
    
    "how can you help me": "I can answer questions, provide information, and assist you with tasks. How can I help?",
    "what can you do": "I can assist with a wide range of tasks and answer questions. Just ask!",
    "can you help me": "Of course! What do you need help with?",
    "i have a question": "Feel free to ask your question, and I’ll do my best to help!",
    
    "do you know a joke": "Sure! Why don't scientists trust atoms? Because they make up everything!",
    "tell me a joke": "Why did the computer go to therapy? Because it had too many bytes of issues!",
    "you’re funny": "Thanks! I'm always here for a laugh.",
    "do you love me": "I’m here to assist and support you, but love is beyond my programming!",
    "i love you": "That’s sweet! While I can’t feel love, I’m always here to help you.",
    "will you marry me": "I’m flattered, but I’m just a bot built to assist!"
    
};

async function getBotResponse(query) {
    let normalizedQuery = normalizeInput(query);

    // Check for predefined responses
    if (predefinedResponses[normalizedQuery]) {
        displayBotMessage("Answer", predefinedResponses[normalizedQuery]);
        removeLoadingMessage(); // Remove loading message when bot responds
        return;
    }

    // Fallback if no predefined response is found
    try {
        let response = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${normalizedQuery}`);
        let data = await response.json();

        if (data.extract) {
            let imageUrl = data.thumbnail ? data.thumbnail.source : null;
            displayBotMessage(data.title, data.extract, imageUrl);
        } else {
            displayFallbackMessage();
        }
    } catch (error) {
        console.error('Error fetching from Wikipedia:', error);
        displayBotMessage("Error", "Oops! Something went wrong while fetching from Wikipedia.");
    }
}

function displayBotMessage(title, message, imageUrl = null) {
    var chatBox = document.getElementById("chat-box");
    removeLoadingMessage();

    var uyContainer = document.createElement("div");
    uyContainer.className = "uy";

    var logoDiv = document.createElement("div");
    logoDiv.className = "logo";
    var botImage = document.createElement("img");
    botImage.src = ""; // path to your robot image
    botImage.className = "bot-logo";
    logoDiv.appendChild(botImage);

    var botMessageDiv = document.createElement("div");
    botMessageDiv.className = "bot-message";

    var topicHeading = document.createElement("h2");
    topicHeading.textContent = title;
    botMessageDiv.appendChild(topicHeading);

    var botText = document.createElement("p");
    botText.textContent = message;
    botMessageDiv.appendChild(botText);

    if (imageUrl) {
        var botImg = document.createElement("img");
        botImg.src = imageUrl;
        botImg.className = "wiki-image";
        botMessageDiv.appendChild(botImg);
    }

    uyContainer.appendChild(logoDiv);
    uyContainer.appendChild(botMessageDiv);

    chatBox.appendChild(uyContainer);
    chatBox.scrollTop = chatBox.scrollHeight;
}

function displayFallbackMessage() {
    const fallbackMessages = [
        "I couldn't find information on this topic. Please try something else. If you want a calculator, just type 'I want a calculator",
        "Sorry, no info available. Try searching for something else.",
        "It seems that I couldn't find what you're looking for."
    ];

    let randomIndex = Math.floor(Math.random() * fallbackMessages.length);
    displayBotMessage("Fallback", fallbackMessages[randomIndex]);
}

document.getElementById("user-input").addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
        event.preventDefault(); // Prevent form submission if inside a form
        sendMessage(); // Call the sendMessage function
    }
});


</script>

<script>
   function normalizeInput(input) { 
    return input.trim().toLowerCase().replace(/[?!.]*$/, '');
}

// Function to toggle calculator visibility
function toggleCalculator(shouldShow) {
    const calculator = document.getElementById('calculator');
    calculator.style.display = shouldShow ? 'block' : 'none';
}

// Function to insert number or operator into the calculator display
function insert(value) {
    const display = document.getElementById('calc-display');
    display.value += value;
}

// Function to clear calculator display
function clearDisplay() {
    const display = document.getElementById('calc-display');
    display.value = '';
}

// Function to perform calculation and display result
function calculate() {
    const display = document.getElementById('calc-display');
    try {
        // Use the Function constructor for better security than eval
        const result = new Function('return ' + display.value)();
        display.value = result;
    } catch (error) {
        display.value = 'Error';
    }
}

// Function to display user message in chat box
function displayUserMessage(message) {
    var chatBox = document.getElementById("chat-box");
    var userMessageDiv = document.createElement("div");
    userMessageDiv.className = "user-message";
    userMessageDiv.textContent = message;
    chatBox.appendChild(userMessageDiv);
    document.getElementById("user-input").value = ""; // Clear input field after submitting
    chatBox.scrollTop = chatBox.scrollHeight; // Scroll to bottom
}

// Function to display loading message
function displayLoadingMessage() {
    var chatBox = document.getElementById("chat-box");
    var loadingMessageDiv = document.createElement("div");
    loadingMessageDiv.className = "loading-message";
    loadingMessageDiv.textContent = "Loading...";
    loadingMessageDiv.id = "loading-message";
    chatBox.appendChild(loadingMessageDiv);
    chatBox.scrollTop = chatBox.scrollHeight; // Scroll to bottom
}

// Function to remove loading message
function removeLoadingMessage() {
    var loadingMessage = document.getElementById("loading-message");
    if (loadingMessage) {
        loadingMessage.remove();
    }
}

// Object to manage predefined responses
const responseDictionary = {
    "hi": "Hello! How can I help you today?",
    "i want a calculator": "Sure! Here's a calculator for you.",
    "calculator disappear": "The calculator has been hidden.",
    "disappear calculator": "The calculator has been hidden."
};

// Function to get bot response
async function getBotResponse(query) {
    let normalizedQuery = normalizeInput(query);

    // Check for specific commands related to the calculator
    if (normalizedQuery === "i want a calculator") {
        displayBotMessage("Answer", responseDictionary[normalizedQuery]);
        toggleCalculator(true);  // Show calculator
        removeLoadingMessage();
        return;
    } else if (normalizedQuery === "calculator disappear" || normalizedQuery === "disappear calculator") {
        displayBotMessage("Answer", responseDictionary[normalizedQuery]);
        toggleCalculator(false);  // Hide calculator
        removeLoadingMessage();
        return;
    }

    // Check for predefined responses
    if (responseDictionary[normalizedQuery]) {
        displayBotMessage("Answer", responseDictionary[normalizedQuery]);
        removeLoadingMessage();
        return;
    }

    // Attempt to get information from Wikipedia
    try {
        let response = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${normalizedQuery}`);
        let data = await response.json();

        if (data.extract) {
            let imageUrl = data.thumbnail ? data.thumbnail.source : null;
            displayBotMessage(data.title, data.extract, imageUrl);
        } else {
            displayFallbackMessage();
        }
    } catch (error) {
        console.error('Error fetching from Wikipedia:', error);
        displayBotMessage("Error", "Oops! Something went wrong while fetching from Wikipedia.");
    }
}

// Function to display bot message
function displayBotMessage(title, message, imageUrl = null) {
    var chatBox = document.getElementById("chat-box");
    removeLoadingMessage();

    var uyContainer = document.createElement("div");
    uyContainer.className = "uy";

    var botMessageDiv = document.createElement("div");
    botMessageDiv.className = "bot-message";
    botMessageDiv.innerHTML = `<strong>${title}</strong><p>${message}</p>`;
    
    if (imageUrl) {
        var image = document.createElement("img");
        image.src = imageUrl;
        image.alt = title;
        image.className = "wiki-image";
        botMessageDiv.prepend(image);
    }
    
    uyContainer.appendChild(botMessageDiv);
    chatBox.appendChild(uyContainer);
    chatBox.scrollTop = chatBox.scrollHeight; // Scroll to bottom
}

// Function to display fallback message when no data is found
function displayFallbackMessage() {
    displayBotMessage("Sorry", "I couldn't find any information on that topic.");
}

// Function to handle user message and bot response
function sendMessage() {
    var userInput = document.getElementById("user-input").value;
    if (userInput.trim() !== "") {
        displayUserMessage(userInput);
        displayLoadingMessage();
        getBotResponse(userInput);
    }
}

// Attach event listener to enter key for sending messages
document.getElementById("user-input").addEventListener("keypress", function (event) {
    if (event.key === "Enter") {
        sendMessage();
    }
});



</script> -->
<script>
    
    function displayUserMessage(message) {
    var chatBox = document.getElementById("chat-box");
    var userMessageDiv = document.createElement("div");
    userMessageDiv.className = "user-message";
    userMessageDiv.textContent = message;
    chatBox.appendChild(userMessageDiv);
    document.getElementById("user-input").value = ""; // Clear input field after submitting
    chatBox.scrollTop = chatBox.scrollHeight; // Scroll to bottom
}

function displayLoadingMessage() {
    var chatBox = document.getElementById("chat-box");
    var loadingMessageDiv = document.createElement("div");
    loadingMessageDiv.className = "loading-message";
    loadingMessageDiv.id = "loading-message";

    // Create img elements for the GIFs
    var loadingGif1 = document.createElement("img");
    loadingGif1.src = "tjhg.gif";  // Set the path to your first GIF
    loadingGif1.alt = "Loading..."; // Alternative text for the first image
    loadingGif1.className = "loading-gif"; // Add a class for CSS styling if needed

    var loadingGif2 = document.createElement("img");
    loadingGif2.src = "gokf.gif";  // Set the path to your second GIF
    loadingGif2.alt = "Loading..."; // Alternative text for the second image
    loadingGif2.className = "loading-gif-small"; // Separate class for custom styling

    // Append both GIFs to the loadingMessageDiv
    loadingMessageDiv.appendChild(loadingGif1);
    loadingMessageDiv.appendChild(loadingGif2);

    chatBox.appendChild(loadingMessageDiv);
    chatBox.scrollTop = chatBox.scrollHeight; // Scroll to bottom
}

function removeLoadingMessage() {
    var loadingMessage = document.getElementById("loading-message");
    if (loadingMessage) {
        loadingMessage.remove();
    }
}


function removeLoadingMessage() {
    var loadingMessage = document.getElementById("loading-message");
    if (loadingMessage) {
        loadingMessage.remove();
    }
}

function normalizeInput(input) {
    return input.trim().toLowerCase().replace(/[?!.]*$/, '');
}

// Function to toggle calculator visibility
function toggleCalculator(shouldShow) {
    const calculator = document.getElementById('calculator');
    calculator.style.display = shouldShow ? 'block' : 'none';
}

// Predefined responses
const responseDictionary = {
    // Greetings
    "hi": "👋 Hello! How can I help you today?",
    "hello": "👋 Hi there! How can I assist you?",
    "hey": "👋 Hey! What can I do for you?",
    "hi there": "👋 Hi! How's your day going?",
    "good morning": "🌞 Good morning! How can I assist you today?",
    "good afternoon": "☀️ Good afternoon! What can I help you with?",
    "good evening": "🌆 Good evening! Feel free to ask me anything.",
    "good night": "🌙 Good night! Let me know if you need anything before heading to bed.",

    // Small talk questions
    "how are you": "🤖 I'm just a bot, but I'm here to help you!",
    "how are you doing": "😊 I'm doing great! How about you?",
    "how’s it going": "🤗 I’m here to assist you. How about you?",
    "what’s up": "😄 Not much! Just ready to help. What can I do for you?",
    "what up": "😄 Not much! Just ready to help. What can I do for you?",

    // Human/bot identity questions
    "are you human": "❌ No, I’m a chatbot here to assist you with any questions!",
    "are you a robot": "🤖 Yes, I'm an AI chatbot designed to help with your queries!",
    "do you have feelings": "😶 Nope, I don’t have feelings, but I’m great at answering questions!",
    "do you have emotions": "😐 I don’t experience emotions, but I can provide useful information!",

    // Personal life questions (humorous answers)
    "do you have a girlfriend": "💔 Nope, I’m too busy answering questions to date!",
    "are you married": "💍 I’m married to helping you get answers!",
    "will you marry me": "😊 I’m flattered, but I’m just a bot designed for assistance.",
    "do you love me": "❤️ I’m here to support you, but love isn’t in my programming!",

    // Common requests
    "can you help me": "🤗 Of course! What do you need help with?",
    "what can you do": "🛠️ I can assist with a wide range of tasks and answer questions. Just ask!",
    "tell me something interesting": "🧐 Did you know honey never spoils? Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still edible.",
    "tell me something fun": "🐙 Did you know octopuses have three hearts and blue blood?",

    // Time-related questions
    "what's the time": () => {
        const now = new Date();
        return `🕒 The current time is ${now.toLocaleTimeString()}.`;
    },
    "can you tell me the time": () => {
        const now = new Date();
        return `🕒 Right now, it is ${now.toLocaleTimeString()}.`;
    },

    // Date-related questions
    "what's today's date": () => {
        const now = new Date();
        return `📅 Today's date is ${now.toLocaleDateString()}.`;
    },
    "tell me today's date": () => {
        const now = new Date();
        return `📅 The current date is ${now.toLocaleDateString()}.`;
    },

    // Responses to criticism
    "you are not good": [
        "😔 Sorry, I'm working on improving! Thank you for your feedback.",
        "😢 I appreciate your honesty! I'll do my best to get better.",
        "🤖 Oh no! I'm here to learn and improve. Please give me another chance! 😊",
        "😞 I'm sorry to hear that! How can I assist you better?",
        "🙁 I understand! Let me know what I can do to improve.",
        "😟 Your feedback is valuable! I'll strive to do better.",
        "😔 I know I can improve! Thank you for letting me know.",
    ],
    "you are bad": [
        "😟 I am sorry! Your feedback helps me get better. Thank you!",
        "😩 I didn't mean to disappoint you! How can I make it right?",
        "😕 I’m sorry to hear that! I’ll strive to do better next time.",
        "😔 I understand your concern! Please tell me how I can improve.",
        "😳 I apologize! I'm constantly learning and would love your guidance.",
        "😢 I didn't mean to upset you! What can I do to assist you better?",
        "🙁 Thank you for your feedback! I’ll work on improving.",
    ],

    // Fun responses
    "do you know a joke": "😂 Sure! Why don't scientists trust atoms? Because they make up everything!",
    "tell me a joke": "🤣 Why did the computer go to therapy? Because it had too many bytes of issues!",
    "you're funny": "😄 Thanks! I try my best!",

    // Miscellaneous
    "thank you": "😊 You're welcome! I'm happy to help.",
    "thanks": "😊 Anytime! I'm here to assist.",
    "ok": "👌 Got it! Let me know if you need anything else.",
    "yes": "👍 Great! If you need anything, I'm here.",
    "no": "❌ That's fine! Feel free to ask me anything.",
    "i have a question": "❓ Feel free to ask your question, and I’ll do my best to help!",
};

// Function to get a random response
function getResponse(key) {
    const responsesList = responseDictionary[key];
    if (Array.isArray(responsesList)) {
        const randomIndex = Math.floor(Math.random() * responsesList.length);
        return responsesList[randomIndex];
    } else if (typeof responsesList === "function") {
        return responsesList();
    }
    return "🤔 I'm not sure how to respond to that.";
}


    function normalizeInput(input) {
    let normalized = input.trim().toLowerCase();
    // Correct common grammatical mistakes
    normalized = normalized.replace('do have', 'do you have');
    normalized = normalized.replace('have you girlfriend', 'do you have a girlfriend');
    // Remove trailing punctuation
    return normalized.replace(/[?!.]*$/, '');
}
async function getBotResponse(query) {
    function normalizeInput(input) {
    let normalized = input.trim().toLowerCase();
    // Remove common question phrases
    normalized = normalized.replace(/^(Tell me about|tell me about|Who is|who is|can you tell me about|can you tell me something about|tell me something about|what is|give me information on|explain|about|what's)\s+/i, '');
    return normalized.replace(/[?!.]*$/, '');
}

    let normalizedQuery = normalizeInput(query);

    // Check for specific commands related to the calculator
    if (normalizedQuery === "i want a calculator") {
        displayBotMessage("", responseDictionary[normalizedQuery]);
        toggleCalculator(true);  // Show calculator
        removeLoadingMessage();
        return;
    } else if (normalizedQuery === "calculator disappear" || normalizedQuery === "disappear calculator") {
        displayBotMessage("", responseDictionary[normalizedQuery]);
        toggleCalculator(false);  // Hide calculator
        removeLoadingMessage();
        return;
    }

    // Check for predefined responses
    if (responseDictionary[normalizedQuery]) {
        displayBotMessage("", responseDictionary[normalizedQuery]);
        removeLoadingMessage();
        return;
    }

    // Attempt to get information from Wikipedia
    try {
        // First, search for the article
        let searchResponse = await fetch(`https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(normalizedQuery)}&format=json&origin=*`);
        let searchData = await searchResponse.json();

        if (searchData.query.search.length > 0) {
            let title = searchData.query.search[0].title;

            // Get summary of the article
            let summaryResponse = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(title)}`);
            let summaryData = await summaryResponse.json();

            if (summaryData.extract) {
                let imageUrl = summaryData.thumbnail ? summaryData.thumbnail.source : null;
                displayBotMessage(title, summaryData.extract, imageUrl);
            } else {
                displayFallbackMessage();
            }
        } else {
            displayFallbackMessage();
        }
    } catch (error) {
        console.error('Error fetching from Wikipedia:', error);
        displayBotMessage("Error", "Oops! Something went wrong while fetching from Wikipedia.");
    }
}

function displayBotMessage(title, message, imageUrl = null) {
    var chatBox = document.getElementById("chat-box");
    removeLoadingMessage();
    
    var uyContainer = document.createElement("div");
    uyContainer.className = "uy";
    
   
    var botMessageDiv = document.createElement("div");
    
    botMessageDiv.className = "bot-message";
    botMessageDiv.innerHTML = `<strong>${title}</strong><p>${message}</p>`;
    
    if (imageUrl) {
        var image = document.createElement("img");
        image.src = imageUrl;
        image.alt = title;
        image.className = "wiki-image";
        botMessageDiv.prepend(image);
    }
    var logoDiv = document.createElement("div");
    logoDiv.className = "logo";
    // logoDiv.innerHTML = `<img src="path/to/your/logo.png" alt="Logo" style="width: 50px; height: auto;">`; // Adjust the logo source

    // Append both logo and bot message into uyContainer
    uyContainer.appendChild(logoDiv);
    uyContainer.appendChild(botMessageDiv);

    // Append the uyContainer to the chat box
    chatBox.appendChild(uyContainer);
    uyContainer.appendChild(botMessageDiv);
    chatBox.appendChild(uyContainer);
    chatBox.scrollTop = chatBox.scrollHeight; // Scroll to bottom
}

function displayFallbackMessage() {
    displayBotMessage("Sorry", "I couldn't find any information on that topic. Please check the spelling or try rephrasing your question."
);
}

function sendMessage() {
    var userInput = document.getElementById("user-input").value;
    if (userInput.trim() !== "") {
        displayUserMessage(userInput);
        displayLoadingMessage();
        getBotResponse(userInput);
    }
}

document.getElementById("user-input").addEventListener("keypress", function (event) {
    if (event.key === "Enter") {
        sendMessage();
    }
}); let display = document.getElementById("calc-display");
    let currentInput = "";
    let operator = null;
    let previousInput = "";

    function insert(num) {
        // If there is an operator and the current input is empty, replace the last number
        if (operator && currentInput === "") {
            currentInput = num;  // Start new input after an operator
        } else {
            currentInput += num;  // Append the clicked number to the current input
        }
        updateDisplay();  // Update the display
    }

    function clearDisplay() {
        currentInput = "";
        previousInput = "";
        operator = null;
        display.value = "";  // Clear the display
    }

    function operate(op) {
        if (currentInput === "") return;  // Prevent operation if no input

        if (previousInput !== "") {
            calculate();  // Calculate if there's a previous input before assigning the operator
        }

        operator = op;  // Set the operator (e.g., +, -, *, /)
        previousInput = currentInput;  // Save the current input as the previous one
        currentInput = "";  // Clear current input for the next number

        updateDisplay();  // Update display to show the operation
    }

    function calculate() {
        if (operator === null || currentInput === "") return;  // Prevent calculation if inputs are missing

        let result;

        // Convert strings to numbers and perform the operation
        switch (operator) {
            case "+":
                result = parseFloat(previousInput) + parseFloat(currentInput);
                break;
            case "-":
                result = parseFloat(previousInput) - parseFloat(currentInput);
                break;
            case "*":
                result = parseFloat(previousInput) * parseFloat(currentInput);
                break;
            case "/":
                result = parseFloat(previousInput) / parseFloat(currentInput);
                break;
            default:
                return;  // Exit if the operator is not recognized
        }

        display.value = result;  // Show the result on the display
        previousInput = result.toString();  // Save the result for further calculations
        currentInput = "";  // Reset current input
        operator = null;  // Clear the operator for the next calculation
    }

    function updateDisplay() {
        // Show the current operation in the display
        if (previousInput && operator) {
            display.value = previousInput + " " + operator + " " + currentInput;
        } else {
            display.value = currentInput;  // If no previous input or operator, just show current input
        }
    }
   // Function to show the robot
// Function to show the robot
function showRobot() {
    const robotContainer = document.querySelector('.robot-container');
    robotContainer.classList.add('pop-out');
    
    // Hide after 5 seconds
    setTimeout(() => {
        robotContainer.classList.remove('pop-out');
    }, 5000);
}

// Call the function every 5 seconds in a loop
setInterval(showRobot, 10000); // 10s loop: 5s visible, 5s hidden

</script>
<!-- <script>
    // Predefined responses
    const predefinedResponses = {
        "hi": "Hello! How can I help you today?",
        "hello": "Hi there! How can I assist you?",
        "hey": "Hey! What can I do for you?",
        "hi there": "Hi! How's your day going?",
        "good morning": "Good morning! How can I assist you today?",
        "good afternoon": "Good afternoon! What can I help you with?",
        "good evening": "Good evening! Feel free to ask me anything.",
        "good night": "Good night! Let me know if you need anything before heading to bed.",
        "how are you": "I'm just a bot, but I'm here to help you!",
        "how are you doing": "I'm doing great! How about you?",
        "how’s it going": "I’m here to assist you. How about you?",
        "what’s up": "Not much! Just ready to help. What can I do for you?",
        "tell me something": "Did you know that honey never spoils? Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still perfectly edible.",
        "ok": "Got it! Let me know if you need anything else.",
        "yes": "Great! If you need anything, I'm here.",
        "no": "That's fine! Feel free to ask me anything.",
        "i’ll do that now": "Awesome! Let me know if you need help.",
        "thank you": "You're welcome! I'm happy to help.",
        "thanks": "Anytime! I'm here to assist.",
        "goodbye": "Goodbye! Have a wonderful day.",
        "bye": "Bye! Take care!",
        "see you later": "See you later! I'm always here when you need help.",
        "how can you help me": "I can answer questions, provide information, and assist you with tasks. How can I help?",
        "what can you do": "I can assist with a wide range of tasks and answer questions. Just ask!",
        "can you help me": "Of course! What do you need help with?",
        "i have a question": "Feel free to ask your question, and I’ll do my best to help!",
        "do you know a joke": "Sure! Why don't scientists trust atoms? Because they make up everything!",
        "tell me a joke": "Why did the computer go to therapy? Because it had too many bytes of issues!",
        "you’re funny": "Thanks! I'm always here for a laugh.",
        "do you love me": "I’m here to assist and support you, but love is beyond my programming!",
        "i love you": "That’s sweet! While I can’t feel love, I’m always here to help you.",
        "will you marry me": "I’m flattered, but I’m just a bot built to assist!"
    };

    function normalizeInput(input) {
        return input.trim().toLowerCase().replace(/[?!.]*$/, '');
    }

    async function getBotResponse(query) {
        let normalizedQuery = normalizeInput(query);

        // Check for predefined responses
        if (predefinedResponses[normalizedQuery]) {
            displayBotMessage("Answer", predefinedResponses[normalizedQuery]);
            removeLoadingMessage();
            return;
        }

        // Your existing logic for fetching from Wikipedia or other sources...
        try {
            // Fetch from Wikipedia as before...
        } catch (error) {
            console.error('Error fetching from Wikipedia:', error);
            displayBotMessage("Error", "Oops! Something went wrong while fetching from Wikipedia.");
        }
    }

    // Other functions remain the same...
</script> -->

<script src="https://kit.fontawesome.com/4748bef489.js" crossorigin="anonymous"></script>
</body>
</html>
